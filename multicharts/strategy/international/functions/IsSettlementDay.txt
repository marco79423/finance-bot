inputs: Symbol(StringSimple);

IsSettlementDay=False ;

vars: Case(1);


if Symbol = "MYM" or Symbol = "NQ" or Symbol = "DAX" then begin
	if Month(D)=3 or Month(D)=6 or Month(D)=9 or Month(D)=12 then condition11=True
	else condition11=False ;

	if dayofweek(D)=5 and 21>=dayofmonth(D) and dayofmonth(D)>=15 then condition12=True
	else condition12=False ;

	if condition11 and condition12 then IsSettlementDay=True
	else IsSettlementDay=False ;
end ;

if Symbol="NKM" then begin
	if Month(D)=3 or Month(D)=6 or Month(D)=9 or Month(D)=12 then condition21=True
	else condition21=False ;

	if dayofweek(D)=4 and 13>=dayofmonth(D) and dayofmonth(D)>=7 then condition22=True
	else condition22=False ;

	if condition21 and condition22 then IsSettlementDay=True
	else IsSettlementDay=False ;
end ;




///


IsTXFSettlementDay = False;
if DayOfWeek(D) = 3 and DayOfMonth(D) > 14 and DayOfMonth(D) < 22 then begin
	IsTXFSettlementDay = True;
end else begin
	IsTXFSettlementDay = False;
end;
